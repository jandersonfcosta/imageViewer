function imageViewer(a){function l(){b=document.createElement("img"),b.border=0,b.className="imageviewer-img",b.setAttributeNode(document.createAttribute("realHeight")),b.setAttributeNode(document.createAttribute("realWidth")),b.onload=u,b.onmousewheel=z,b.onmousedown=H,b.onmouseup=J,b.ondblclick=v,g.appendChild(b)}function m(){d=document.createElement("div"),d.className="imageviewer-img-header",d.innerHTML='<span id="imageviewer_imgName"></span><span id="imageviewer_closeBtn">\u2716</span>',g.appendChild(d),document.getElementById("imageviewer_closeBtn").onclick=L}function n(){e=document.createElement("div"),e.className="imageviewer-nav imageviewer-nav-prev",e.onclick=s,g.appendChild(e),f=document.createElement("div"),f.className="imageviewer-nav imageviewer-nav-next",f.onclick=r,g.appendChild(f),A()}function o(){c=document.createElement("div"),c.id="imageviewer_overlay",c.className="imageviewer-overlay",c.onmousewheel=z,g.appendChild(c)}function p(a){var b=document.createElement("link");b.type="text/css",b.rel="stylesheet",b.href=a,document.getElementsByTagName("head")[0].appendChild(b)}function q(){39==event.keyCode&&r(),37==event.keyCode&&s(),27==event.keyCode&&L()}function r(){if("none"!=b.style.display){var c=a.links[Number(i)+1];c||(c=a.links[0]),c.click()}}function s(){if("none"!=b.style.display){var c=a.links[Number(i)-1];c||(c=a.links[a.links.length-1]),c.click()}}function t(g,h){K(!1),N(window,"resize",w),N(document,"keydown",q),M(window,"resize",w),M(document,"keydown",q),c.style.display="block",a.links.length>1&&(e.style.display="block",f.style.display="block"),d.style.display="block",document.getElementById("imageviewer_imgName").innerHTML=h,b.removeAttribute("src"),b.removeAttribute("height"),b.removeAttribute("width"),b.style.top=-b.height,b.style.left=-b.width,b.style.display="block",b.src=g}function u(){b.realHeight=b.height,b.realWidth=b.width,w(),b.style.cursor="move",c.style.cursor="auto"}function v(){b.height==b.realHeight?x():(b.removeAttribute("width"),b.removeAttribute("height"),b.width=b.realWidth,b.height=b.realHeight,y())}function w(){x(),B(),A()}function x(){var a=document.body.clientHeight,c=document.body.clientWidth;b.removeAttribute("width"),b.realHeight>a&&(b.height=a-h),b.width>c&&(b.removeAttribute("height"),b.width=c-h),y()}function y(){b.style.top=(document.body.clientHeight-b.height)/2,b.style.left=(document.body.clientWidth-b.width)/2}function z(a){var c=.2,d=event.wheelDelta;b.removeAttribute("height"),d>0?b.width/b.realWidth<12&&(b.width=b.width*(1+c)):b.realWidth/b.width<12&&(b.width=b.width*(1-c)),y()}function A(){var a=30,b=90;e.style.left=0,e.style.top=document.body.clientHeight/2-b/2,f.style.left=document.body.clientWidth-a,f.style.top=document.body.clientHeight/2-b/2}function B(){c.style.width=document.body.clientWidth,c.style.height=document.body.clientHeight}function H(a){function d(a){var b=parseInt(a);return null==b||isNaN(b)?0:b}null==a&&(a=window.event);var c=null!=a.target?a.target:a.srcElement;return(1==a.button&&null!=window.event||0==a.button)&&c.className==b.className?(C=a.clientX,D=a.clientY,E=d(c.style.left),F=d(c.style.top),G=c,document.onmousemove=I,document.body.focus(),document.onselectstart=function(){return!1},c.ondragstart=function(){return!1},!1):void 0}function I(a){if(null==a)var a=window.event;G.style.left=E+a.clientX-C,G.style.top=F+a.clientY-D}function J(){null!=G&&(document.onmousemove=null,document.onselectstart=null,G.ondragstart=null,G=null)}function K(a){var b="auto",c="yes";void 0!==a&&a===!1&&(b="hidden",c="no"),document.documentElement.style.overflow=b,document.body.scroll=c,document.body.scrollTop=0,document.body.scrollLeft=0}function L(){c.style.display="none",e.style.display="none",f.style.display="none",d.style.display="none",b.style.display="none",N(window,"resize",B),N(document,"keydown",q),K()}function M(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)}function N(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=25,i=0;l(),m(),o(),n(),p(a.css);for(var j=0;j<a.links.length;j++){var k=a.links[j];k.setAttributeNode(document.createAttribute("url")),k.setAttributeNode(document.createAttribute("index")),k.url=k.href,k.index=j,k.href="javascript:",k.onclick=function(){b.style.cursor="wait",c.style.cursor="wait",i=this.index,t(this.url,this.innerText)}}var G,C=0,D=0,E=0,F=0}