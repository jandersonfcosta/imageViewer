function imageViewer(e){function t(){i(),n(),l(),o(),c(e.css);for(var t=0;t<e.links.length;t++){var s=e.links[t];s.setAttributeNode(document.createAttribute("url")),s.setAttributeNode(document.createAttribute("index")),s.url=s.href,s.index=t,s.href="javascript:",s.onclick=function(){N.style.cursor="wait",H.style.cursor="wait",W.style.cursor="wait",L.style.cursor="wait",I=this.index;var e=this.url.substr(this.url.lastIndexOf("."));d(this.url,this.innerText+(e?e.toLowerCase():""))}}}function n(){N=document.createElement("img"),N.border=0,N.className="iv-image",N.setAttributeNode(document.createAttribute("realHeight")),N.setAttributeNode(document.createAttribute("realWidth")),N.onload=r,N.onmousewheel=f,N.onmousedown=g,N.ondblclick=h,N.onmouseup=function(){document.onmousemove=null,document.onselectstart=null,N.ondragstart=null},x.appendChild(N)}function i(){C=document.createElement("div"),C.className="iv-image-header",C.style.display="none",C.innerHTML='<span id="iv-image-name"></span><span id="iv-button-close">âœ–</span>',x.appendChild(C),document.getElementById("iv-button-close").onclick=k}function o(){W=document.createElement("div"),W.className="iv-nav iv-nav-prev",W.style.display="none",W.onclick=a,W.onmouseover=function(){W.style.filter="alpha(opacity=80)"},W.onmouseout=function(){W.style.filter="alpha(opacity=60)"},x.appendChild(W),L=document.createElement("div"),L.className="iv-nav iv-nav-next",L.style.display="none",L.onclick=u,L.onmouseover=function(){L.style.filter="alpha(opacity=80)"},L.onmouseout=function(){L.style.filter="alpha(opacity=60)"},x.appendChild(L)}function l(){H=document.createElement("div"),H.id="iv-overlay",H.style.display="none",H.className="iv-overlay",H.onmousewheel=f,H.onclick=k,x.appendChild(H)}function c(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function s(){try{39===event.keyCode&&u(),37===event.keyCode&&a(),27===event.keyCode&&k()}catch(e){}}function d(t,n){w(!1),e.links.length>1&&(W.style.display="block",L.style.display="block",p()),H.style.display="block",b(),C.style.display="block",document.getElementById("iv-image-name").innerHTML=n,N.removeAttribute("src"),N.removeAttribute("height"),N.removeAttribute("width"),N.style.top=-N.height,N.style.left=-N.width,N.style.visibility="hidden",N.src=t,A(window,"resize",y),A(document,"keydown",s),E(window,"resize",y),E(document,"keydown",s)}function r(){N.realHeight=N.height,N.realWidth=N.width,y(),N.style.visibility="visible",N.style.cursor="move",H.style.cursor="auto",W.style.cursor="pointer",L.style.cursor="pointer"}function u(){if("none"!==N.style.display){var t=e.links[Number(I)+1];t||(t=e.links[0]),t.click()}}function a(){if("none"!==N.style.display){var t=e.links[Number(I)-1];t||(t=e.links[e.links.length-1]),t.click()}}function h(){N.height===N.realHeight?m():(N.removeAttribute("width"),N.removeAttribute("height"),N.width=N.realWidth,N.height=N.realHeight,v())}function y(){m(),b(),p()}function m(){var e=document.body.clientHeight,t=document.body.clientWidth;N.removeAttribute("width"),N.realHeight>e&&(N.height=e-T),N.width>t&&(N.removeAttribute("height"),N.width=t-T),v()}function v(){N.style.top=(document.body.clientHeight-N.height)/2,N.style.left=(document.body.clientWidth-N.width)/2}function f(e){var t=event.wheelDelta;t>0?N.width/N.realWidth<B&&(N.width=N.width*(1+z),N.removeAttribute("height"),N.height=N.height):N.realWidth/N.width<B&&(N.width=N.width*(1-z),N.removeAttribute("height"),N.height=N.height),v()}function p(){var e=30,t=90;W.style.left=0,W.style.top=document.body.clientHeight/2-t/2,L.style.left=document.body.clientWidth-e,L.style.top=document.body.clientHeight/2-t/2}function b(){H.style.width=document.body.clientWidth,H.style.height=document.body.clientHeight}function g(e){function t(e){var t=parseInt(e);return null===t||isNaN(t)?0:t}var n,i=0,o=0,l=0,c=0;if(e||(e=window.event),n=e.target?e.target:e.srcElement,(1===e.button&&null!==window.event||0===e.button)&&n.className===N.className)return i=e.clientX,o=e.clientY,l=t(N.style.left),c=t(N.style.top),document.onmousemove=function(e){e||(e=window.event),N.style.left=l+e.clientX-i,N.style.top=c+e.clientY-o},document.body.focus(),document.onselectstart=function(){return!1},N.ondragstart=function(){return!1},!1}function w(e){var t="auto",n="yes";void 0!==e&&e===!1&&(t="hidden",n="no"),document.documentElement.style.overflow=t,document.body.scroll=n,document.body.scrollTop=0,document.body.scrollLeft=0}function k(){H.style.display="none",W.style.display="none",L.style.display="none",C.style.display="none",N.style.visibility="hidden",A(window,"resize",b),A(document,"keydown",s),w()}function E(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on"+t,n)}function A(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}var N,H,C,W,L,x=document.body,T=25,I=0,z=.2,B=12;t()}
