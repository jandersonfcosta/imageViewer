function imageViewer(e){function t(){n(),i(),l(),o(),c(e.css);for(var t=0;t<e.links.length;t++){var s=e.links[t];s.setAttributeNode(document.createAttribute("url")),s.setAttributeNode(document.createAttribute("index")),s.url=s.href,s.index=t,s.href="javascript:",s.onclick=function(){C.style.cursor="wait",W.style.cursor="wait",x.style.cursor="wait",T.style.cursor="wait",M=this.index;var e=this.url.substr(this.url.lastIndexOf("."));d(this.url,this.innerText+(e?e.toLowerCase():""))}}}function n(){C=document.createElement("img"),C.border=0,C.className="iv-img",C.setAttributeNode(document.createAttribute("realHeight")),C.setAttributeNode(document.createAttribute("realWidth")),z.appendChild(C),C.onload=a,C.onmousewheel=f,C.onmousedown=g,C.onmouseup=k,C.ondblclick=h}function i(){L=document.createElement("div"),L.className="iv-img-header",L.style.display="none",L.innerHTML='<span id="iv-image-name"></span><span id="iv-button-close">âœ–</span>',z.appendChild(L),document.getElementById("iv-button-close").onclick=A}function o(){x=document.createElement("div"),x.className="iv-nav iv-nav-prev",x.style.display="none",x.onclick=u,x.onmouseover=function(){x.style.filter="alpha(opacity=80)"},x.onmouseout=function(){x.style.filter="alpha(opacity=60)"},z.appendChild(x),T=document.createElement("div"),T.className="iv-nav iv-nav-next",T.style.display="none",T.onclick=r,T.onmouseover=function(){T.style.filter="alpha(opacity=80)"},T.onmouseout=function(){T.style.filter="alpha(opacity=60)"},z.appendChild(T)}function l(){W=document.createElement("div"),W.id="iv-overlay",W.style.display="none",W.className="iv-overlay",W.onmousewheel=f,W.onclick=A,z.appendChild(W)}function c(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function s(){try{39===event.keyCode&&r(),37===event.keyCode&&u(),27===event.keyCode&&A()}catch(e){}}function d(t,n){E(!1),e.links.length>1&&(x.style.display="block",T.style.display="block",p()),W.style.display="block",b(),L.style.display="block",document.getElementById("iv-image-name").innerHTML=n,C.removeAttribute("src"),C.removeAttribute("height"),C.removeAttribute("width"),C.style.top=-C.height,C.style.left=-C.width,C.style.visibility="hidden",C.src=t,H(window,"resize",y),H(document,"keydown",s),N(window,"resize",y),N(document,"keydown",s)}function r(){if("none"!==C.style.display){var t=e.links[Number(M)+1];t||(t=e.links[0]),t.click()}}function u(){if("none"!==C.style.display){var t=e.links[Number(M)-1];t||(t=e.links[e.links.length-1]),t.click()}}function a(){C.realHeight=C.height,C.realWidth=C.width,y(),C.style.visibility="visible",C.style.cursor="move",W.style.cursor="auto",x.style.cursor="pointer",T.style.cursor="pointer"}function h(){C.height===C.realHeight?m():(C.removeAttribute("width"),C.removeAttribute("height"),C.width=C.realWidth,C.height=C.realHeight,v())}function y(){m(),b(),p()}function m(){var e=document.body.clientHeight,t=document.body.clientWidth;C.removeAttribute("width"),C.realHeight>e&&(C.height=e-B),C.width>t&&(C.removeAttribute("height"),C.width=t-B),v()}function v(){C.style.top=(document.body.clientHeight-C.height)/2,C.style.left=(document.body.clientWidth-C.width)/2}function f(e){var t=event.wheelDelta;t>0?C.width/C.realWidth<Y&&(C.width=C.width*(1+X),C.removeAttribute("height"),C.height=C.height):C.realWidth/C.width<Y&&(C.width=C.width*(1-X),C.removeAttribute("height"),C.height=C.height),v()}function p(){var e=30,t=90;x.style.left=0,x.style.top=document.body.clientHeight/2-t/2,T.style.left=document.body.clientWidth-e,T.style.top=document.body.clientHeight/2-t/2}function b(){W.style.width=document.body.clientWidth,W.style.height=document.body.clientHeight}function g(e){function t(e){var t=parseInt(e);return null===t||isNaN(t)?0:t}e||(e=window.event);var n=e.target?e.target:e.srcElement;if((1===e.button&&null!==window.event||0===e.button)&&n.className===C.className)return j=e.clientX,D=e.clientY,O=t(n.style.left),V=t(n.style.top),I=n,document.onmousemove=w,document.body.focus(),document.onselectstart=function(){return!1},n.ondragstart=function(){return!1},!1}function w(e){e||(e=window.event),I.style.left=O+e.clientX-j,I.style.top=V+e.clientY-D}function k(){null!==I&&(document.onmousemove=null,document.onselectstart=null,I.ondragstart=null,I=null)}function E(e){var t="auto",n="yes";void 0!==e&&e===!1&&(t="hidden",n="no"),document.documentElement.style.overflow=t,document.body.scroll=n,document.body.scrollTop=0,document.body.scrollLeft=0}function A(){W.style.display="none",x.style.display="none",T.style.display="none",L.style.display="none",C.style.visibility="hidden",H(window,"resize",b),H(document,"keydown",s),E()}function N(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on"+t,n)}function H(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}var C,W,L,x,T,I,z=document.body,B=25,M=0,X=.2,Y=12,j=0,D=0,O=0,V=0;t()}
